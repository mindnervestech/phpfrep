<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="no-js sidebar-large" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:p="http://primefaces.org/ui"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

<h:head>
	<!-- BEGIN META SECTION -->
	<meta charset="utf-8" />
	<title>Fracts</title>
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta content="" name="description" />
	<meta content="themes-lab" name="author" />
	<link rel="shortcut icon" href="#{request.contextPath}/assets/img/favicon.ico" />
	<link rel="apple-touch-icon" sizes="57x57" href="#{request.contextPath}/assets/img/apple-touch-icon-57x57.png" />
	<link rel="apple-touch-icon" sizes="60x60" href="#{request.contextPath}/assets/img/apple-touch-icon-60x60.png" />
	<link rel="apple-touch-icon" sizes="72x72" href="#{request.contextPath}/assets/img/apple-touch-icon-72x72.png" />
	<link rel="apple-touch-icon" sizes="76x76" href="#{request.contextPath}/assets/img/apple-touch-icon-76x76.png" />
	<link rel="icon" type="image/png" href="#{request.contextPath}/assets/img/favicon-32x32.png" sizes="32x32" />
	<link rel="icon" type="image/png" href="#{request.contextPath}/assets/img/favicon-16x16.png" sizes="16x16" />
	<link rel="manifest" href="#{request.contextPath}/assets/img/manifest.json" />
	<link rel="mask-icon" href="#{request.contextPath}/assets/img/safari-pinned-tab.svg" color="#5bbad5" />
	<meta name="msapplication-TileColor" content="#da532c" />
	<meta name="theme-color" content="#ffffff" />

	<script
		src="#{request.contextPath}/assets/plugins/modernizr/modernizr-2.6.2-respond-1.1.0.min.js"></script>
	<!-- END META SECTION -->
	<!-- BEGIN MANDATORY STYLE -->
	<link href="#{request.contextPath}/assets/css/icons/icons.min.css"
		rel="stylesheet" />
	<link href="#{request.contextPath}/assets/css/bootstrap.min.css"
		rel="stylesheet" />
	<link href="#{request.contextPath}/assets/css/plugins.min.css"
		rel="stylesheet" />
	<link href="#{request.contextPath}/assets/css/style.css"
		rel="stylesheet" />
	<link href="#{request.contextPath}/assets/css/colors/color-dark.css" rel="stylesheet"  />
	<!-- END  MANDATORY STYLE -->
	
	<script
		src="#{request.contextPath}/assets/plugins/jquery-1.11.1.min.js"></script>
	<script
		src="#{request.contextPath}/assets/plugins/angular.min.js"></script>
	<script
		src="#{request.contextPath}/assets/js/angular/app.js"></script>
	
	<f:loadBundle var="global"
		basename="/com/obs/brs/properties/Application"></f:loadBundle>
	<style>
.ui-dialog .ui-dialog-content {
	background: none repeat scroll 0 0 rgba(0, 0, 0, 0);
	border: 0 none;
	overflow: auto;
	padding: 0.5em 1em;
	position: relative;
	width: 44%;
	height: 350px;
}

.col-md-6 {
	width: 60%;
}

.text-muted {
	color: #999;
}

input {
	font-size: 1em !important;
	height: 37px;
	width: 100%;
}

.thumbnail>.overlay>.thumbnail-actions {
	text-align: left !important;
	margin-top: -18px;
}

td,th {
	padding: 1px 6px 0;
}

.ui-selectmanycheckbox label,.ui-selectoneradio label {
	display: block;
	margin-left: -8px;
	margin-top: 4px;
}

.skin-section .list li {
	position: relative;
	padding-bottom: 0px !important;
	padding-left: 30px;
}

.col-md-6 {
	width: 70% !important;
}

.issueDay td,th {
	padding: 1px 13.3px 0 8px;
}

.issueDayNext td,th {
	padding: 1px 9.5px 0 8.1px;
}

.issueMonth td,th {
	padding: 1px 24px 8px 8px;
}

.issueMonthNext td,th {
	padding: 1px 22px 8px 8px;
}

.issueYear td,th {
	padding: 1px 6.8px 8px;
}

.issueDayNextThird td,th {
	padding: 1px 8.9px 0 8.1px;
}

.issueDayNextFour td,th {
	padding: 1px 13.5px 0 8.1px;
}

<!--
Popup Design -->.ui-dialog.ui-widget-content .ui-dialog-title {
	font-size: 18px;
}

.ui-dialog.ui-widget-content .ui-dialog-content {
	padding: 0px;
	font-size: 11px;
}

.pagination li {
	-moz-border-bottom-colors: none;
	-moz-border-left-colors: none;
	-moz-border-right-colors: none;
	-moz-border-top-colors: none;
	background-color: #FFFFFF;
	border-color: #DDDDDD;
	border-image: none;
	border-style: solid;
	border-width: 1px 1px 1px 1px;
	float: left;
	line-height: 18px;
	padding: 0px 12px;
	text-decoration: none;
	margin: 0px;
}

.pagination>li:hover {
	background-color: #e4e7ea;
}
.media-header .pull-right {
	background-color: #fff;
	color: #fff;
	padding: 10px;
}

.templatemo_one_col {
	width: 585px;
	margin: 0 0 10px 0;
}

.templatemo_one_col img {
	float: left;
	margin: 0 10px 10px 0;
}

.btn{
  	width: 115px;
	padding: 2px 10px;
}

.thumbnail{
	 margin-bottom: 0px;
}
.panel {
	margin-bottom: 5px;
}
.media-manager .panel-body {
  padding: 7px;
}
.childImg {
	margin: 2px;
    border-radius: 5px;
    width: 100px;
    height: 100px; 
}
#childImg{
	max-height: 100%;
}
.complete{
	border: 2px solid #8AC007;
}
.incomplete{
	border: 2px solid #D9534F;
}
.col8half {
	width: 70.833333333333333333333333%;
}
.col1half {
	width: 12.5%;
}
.pagination>li:has(> b) {
	background: gray;
}

.pagination>li>b {
    position: relative;
    float: left;
    padding: 6px 12px;
    margin-left: -1px;
    line-height: 1.428571429;
    color: #428bca;
    text-decoration: none;
    background-color: #fff;
}
.save-icon {
	background: url('#{request.contextPath}/assets/img/save.jpg');
	height: 20px;
	width: 20px;
}
</style>
</h:head>
<f:metadata>
	<f:viewParam name="msgFormat" value="#{deBean.msgFormat}" />
	<f:viewParam name="msgLabel" value="#{deBean.msgLabel}" />
	<f:viewParam name="msgWarnLabel" value="#{deBean.msgWarnLabel}" />
	<f:event type="preRenderView" listener="#{deBean.loadMessage}" />
	<f:viewParam name="img" value="#{deBean.id}" />
	<f:event type="preRenderView" listener="#{deBean.loadAllPublicationInfo}"    />
</f:metadata>
<h:body data-page="file_upload" >
	<ui:include src="/pages/header_admin.xhtml" />
	<div id="wrapper" data-ng-app="myApp"  data-ng-controller="controller" >
		<ui:include src="/pages/userMenu.xhtml" />

		<!-- BEGIN MAIN CONTENT -->
		<h:form id="coords">
			<p:ajaxStatus
				style="width:40px;height:40px;left:50%;top:50%;position:fixed;z-index:10">
				<f:facet name="start">
					<h:graphicImage url="/assets/img/loader32.gif" />
				</f:facet>
			</p:ajaxStatus>
			<h:inputHidden value="#{deBean.id}" />
			<div id="main-content">
				<div class="panel-content">
					<p:messages id="messages" showSummary="false" autoUpdate="true"
						closable="true" showDetail="true" showIcon="false"
						severity="info,fatal,warning" />
					<div class="row media-manager">
						
						
						<div id="myTabContent" class="tab-content" style="float: left;">
							<div class="tab-pane fade in active" id="tab1">
								<div class="tab_border p-0">
									<h:form id="myForm">
									<div class="col-sm-12">
										<div class="row">
											<h:outputLabel style="margin-left:100px" value="No Image found"
												rendered="#{empty deBean.deReleavanceImageList}" />
											<t:div id="div_photo_list"
												rendered="#{not empty deBean.deReleavanceImageList}">
												
												<ui:repeat var="val" value="#{deBean.deReleavanceImageList}"
													rendered="#{not empty deBean.deReleavanceImageList}"
													varStatus="status">
                                               
													<div class="col-xs-12 col-sm-12 col-md-12">
														<div class="panel panel-default">
															<div class="panel-body"
																style="height: 224px;">
																<div class="thmb">
																	<div class="thmb-prev">
																		<div class="thumbnail"
																			style="height: 210px;">
			
																			<div class="col-md-3">
																				<div class="col-md-8 p-0">
																					
																					<div class="col-md-12 p-0">
																						<div class="p-0 f_l">
																							<div class="row m-5 f_l">
																								<div style="font-weight: bold; float: left">Job ID : <h:outputText value="#{val.dEntry.id}"></h:outputText></div>
																								<div class="f_l p-l-10">
																									 <p:commandLink action="#{deBean.showImage}"
																											rendered="#{not empty val.dEntry.parentImage.publicationTitle}" ajax="true"
																											oncomplete="PF('dlg').show();"  id="edit"
																											update=":dlgform:basicDialog">
																									 <img style="height: 160px; width:145px" 
																										src="#{global['baseURL']}#{global['imageContextPath']}#{global['childImagePath']}#{val.dEntry.parentImage.id}/#{val.dEntry.childImage.id}/#{val.dEntry.childImage.imageName}"
																										class="img-responsive m-10" alt="" />
																										
																											<f:param name="parentId" value="#{val.dEntry.parentImage.id}" />
																											<f:param name="childImg" value="#{val.dEntry.childImage.imageName}" />
																											<f:param name="parentImg" value="#{val.dEntry.parentImage.imageName}" />
																											<f:param name="childId" value="#{val.dEntry.childImage.id}" />
																										
																											<p:tooltip for="edit" showEffect="fade" value="View Image" />
																										</p:commandLink>
																										
																								</div>
																							</div>
																						</div>
																					</div>
																					
																				</div>
																				
																			</div>
																			
                                               							<ui:repeat var="v" value="#{val.dataEntry}"
																				rendered="#{not empty val.dataEntry}"
																				varStatus="s">
																			<div class = "col-md-3">
																			
																			<div class="col-md-6">
																				<div class="col-md-12 p-0">
																					<div class="col-md-12 p-0">
																						<div class="p-0 f_l">
																							<div class="row m-5 f_l">
																								<div style="font-weight: bold; float: left">Live Job ID #{val.dataEntry.indexOf(v)+1} : <h:outputText value="#{v.id}"></h:outputText></div>
																								<div class="f_l p-l-10">
																									  <p:commandLink action="#{deBean.showImage}"
																											rendered="#{not empty v.parentImage.publicationTitle}" ajax="true"
																											oncomplete="PF('dlgchild').show();"  id="edit"
																											update=":dlgchildform:basicDialog">
																									  <img style="height: 160px; width:145px" 
																										src="#{global['baseURL']}#{global['imageContextPath']}#{global['childImagePath']}#{v.parentImage.id}/#{v.childImage.id}/#{v.childImage.imageName}"
																										class="img-responsive m-10" alt="" />
																											<f:param name="parentId" value="#{v.parentImage.id}" />
																											<f:param name="childImg" value="#{v.childImage.imageName}" />
																											<f:param name="parentImg" value="#{v.parentImage.imageName}" />
																											<f:param name="childId" value="#{v.childImage.id}" />
																											<p:tooltip for="edit" showEffect="fade" value="View Image" />
																										</p:commandLink>
																							   </div>
																							</div>
																						</div>
																					</div>
																				</div>
																			</div>
																			</div>
																		</ui:repeat>
																		<div class = "col-md-3" style="padding-top:20px;">
																			<h:selectOneMenu
																				styleClass="form-control" value="#{deBean.liveStatusArr[deBean.deReleavanceImageList.indexOf(val)]}">
																				<f:selectItems value="#{val.dataEntry}" var="v" itemLabel="#{v.id}" itemValue="#{v.id}" />
																			</h:selectOneMenu>
																			<p:commandButton action="#{deBean.makeLiveByScore(deBean.deReleavanceImageList.indexOf(val))}" styleClass="btn btn" oncomplete="location.reload()" style="margin-left: 22%;" value="MakeLive" ajax="true">
			 																</p:commandButton>
																		</div>
																	</div>
																</div>
																</div>
															</div>
														</div>
													</div>
												</ui:repeat>
											</t:div>
										</div>
									</div>
									</h:form>
								</div>
							</div>
							
						</div>
					</div>
				</div>
			</div>
			<!-- END MAIN CONTENT -->
		</h:form>
		<h:form id="dlgform">
			<h:inputHidden value="#{deBean.id}" />
			<div id="main-content">
				<div class="page-title">
					<i class="icon-custom-left"></i>
				</div>
				<div class="row">
							<div class="col-md-12" style="width:44%">
								<p:dialog id="basicDialog" style="width:44% !important;" widgetVar="dlg" draggable="true"
									resizable="false" header="#{deBean.childImageName}"
									visible="#{facesContext.postback and facesContext.validationFailed}">
									
									<div class="col-md-4" style=" display: inline-block;">
										<img style="height: 475px; width: 100%;" 
										src="#{global['baseURL']}#{global['contextPath']}#{global['imageContextPath']}#{global['childImagePath']}#{deBean.parentImageId}/#{deBean.childImageId}/#{deBean.childImageName}"></img>

									</div>
								</p:dialog>
							</div>
				</div>
			</div>
		</h:form>
		<h:form id="dlgchildform">
			<h:inputHidden value="#{deBean.id}" />
			<div id="main-content">
				<div class="page-title">
					<i class="icon-custom-left"></i>
				</div>
				<div class="row">
							<div class="col-md-12" style="width:44%">
								<p:dialog id="basicDialog" style="width:44% !important;" widgetVar="dlgchild" draggable="true"
									resizable="false" header="#{deBean.childImageName}"
									visible="#{facesContext.postback and facesContext.validationFailed}">
									
									<div class="col-md-4" style=" display: inline-block;">
									<h:outputText value="#{deBean.parentImageId}"></h:outputText> 
									<h:outputText value="#{deBean.childImageId}"></h:outputText> 
									<h:outputText value="#{v.id}"></h:outputText> 
									<h:outputText value="#{deBean.childImageName}"></h:outputText> 
										<img style="height: 475px; width: 100%;" 
										src="#{global['baseURL']}#{global['contextPath']}#{global['imageContextPath']}#{global['childImagePath']}#{deBean.parentImageId}/#{deBean.childImageId}/#{deBean.childImageName}"></img>

									</div>
								</p:dialog>
							</div>
				</div>
			</div>
		</h:form>
		
	</div>
	<!-- END WRAPPER -->
	<style>
	.col-md-4_5{
		width:76.5%;
	}
	
	.col-md-2_5{
		width:100.83%;
	}
	</style>
	<script type="text/javascript">
		function confirmDelete() {
			if (confirm('Are you sure, you want to delete the Image?'))
				return true;
			else
				return false;

		}
		
		function validationPage(){
			$('#dlgform\\:txt_page').keyup(function() {
			    $('span.error-keyup-1').hide();
			    var inputVal = $(this).val();
			    var numericReg = /^\d*[0-9](|.\d*[0-9]|,\d*[0-9])?$/;
			    var romanNum1 = /^M{0,4}(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})$/;
			    var romanNum2 = /^M{0,4}(cm|cd|d?c{0,3})(xc|xl|l?x{0,3})(iv|iv|v?i{0,3})$/;
			    var pageNumber = /([\w][\d]|[\d][\w])/;
			    if(!(numericReg.test(inputVal) || romanNum1.test(inputVal) || romanNum2.test(inputVal)  || pageNumber.test(inputVal))) {
			        $(this).after('<span class="error error-keyup-1">Numeric characters only.</span>');
			    }
			});
		}
		
		
	    $(document).ready(function() {
			$(".sidebar-nav > li").removeClass();
			$("#menu6").addClass("current active");
			
		});
	    
	    function selectAllCheckBox(){
	    	$('.icheckbox_flat-blue').addClass('checked');
	    	$('.checkbox').attr('checked','checked');
	    }
	    
	    function deSelectAllCheckBox (){
	    	$('.icheckbox_flat-blue').removeClass('checked');
	    	$('.checkbox').removeAttr('checked');
	    }
	    
	    

	    </script>
	<!-- BEGIN MANDATORY SCRIPTS -->
	<script
		src="#{request.contextPath}/assets/plugins/jquery-1.11.1.min.js"></script>
	<script
		src="#{request.contextPath}/assets/plugins/jquery-migrate-1.2.1.min.js"></script>
	<script
		src="#{request.contextPath}/assets/plugins/jquery-ui/jquery-ui-1.10.4.min.js"></script>
	<script
		src="#{request.contextPath}/assets/plugins/bootstrap/bootstrap.min.js"></script>
	<script
		src="#{request.contextPath}/assets/plugins/bootstrap-dropdown/bootstrap-hover-dropdown.min.js"></script>
	<script
		src="#{request.contextPath}/assets/plugins/bootstrap-select/bootstrap-select.min.js"></script>
	<script
		src="#{request.contextPath}/assets/plugins/icheck/icheck.min.js"></script>
	<script
		src="#{request.contextPath}/assets/plugins/mcustom-scrollbar/jquery.mCustomScrollbar.concat.min.js"></script>
	<script
		src="#{request.contextPath}/assets/plugins/mmenu/js/jquery.mmenu.min.all.js"></script>
	<script
		src="#{request.contextPath}/assets/plugins/nprogress/nprogress.min.js"></script>
	<!-- <script
		src="#{request.contextPath}/assets/plugins/charts-sparkline/sparkline.min.js"></script> -->
	<script
		src="#{request.contextPath}/assets/plugins/breakpoints/breakpoints.min.js"></script>
	<!-- <script
		src="#{request.contextPath}/assets/plugins/numerator/jquery-numerator.js"></script> -->
	<script
		src="#{request.contextPath}/assets/plugins/jquery.cookie.min.js"
		type="text/javascript"></script>
	<!-- END MANDATORY SCRIPTS -->
	<script src="#{request.contextPath}/assets/js/application.js"></script>
	<script src="#{request.contextPath}/assets/js/customValidation.js"></script>
	<script
		src="#{request.contextPath}/assets/plugins/bootstrap-datepicker/bootstrap-datepicker.js"></script>
</h:body>
</html>

